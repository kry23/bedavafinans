/* BedavaFinans Internationalization - TR (default) / EN */

const TRANSLATIONS = {
    tr: {
        // Header
        'last-update': 'Son:',
        'auto': 'Oto',
        'paused': 'Durduruldu',

        // Market Overview Cards
        'total-market-cap': 'Toplam Piyasa Değeri',
        '24h-volume': '24s Hacim',
        'btc-dominance-label': 'BTC Hakimiyeti',
        'fear-greed-label': 'Korku & Açgözlülük',

        // Signal Table
        'trading-signals': 'İşlem Sinyalleri (Top 15)',
        '4-layer': '4 Katmanlı Bileşik',
        'th-coin': 'Coin',
        'th-price': 'Fiyat',
        'th-24h': '24s',
        'th-signal': 'Sinyal',
        'th-score': 'Skor',
        'th-rsi': 'RSI',
        'th-layers': 'Katmanlar',
        'loading-signals': 'Sinyaller yükleniyor...',

        // Derivatives
        'derivatives': 'Türev Piyasalar',
        'th-symbol': 'Sembol',
        'th-funding': 'Fonlama',
        'th-ls': 'U/K',
        'th-oi': 'AK',

        // Chart
        'chart-legend-ema9': 'EMA 9',
        'chart-legend-ema21': 'EMA 21',
        'chart-legend-bb': 'BB',
        'chart-ind-ema': 'EMA',
        'chart-ind-bb': 'BB',
        'chart-ind-vol': 'VOL',
        'chart-fullscreen': 'Tam Ekran',

        // Top Movers
        'top-movers': 'En Çok Değişenler',
        'gainers': 'Yükselenler',
        'losers': 'Düşenler',

        // Volume Anomalies
        'volume-anomalies': 'Hacim Anomalileri',
        'no-anomalies': 'Anomali tespit edilmedi',

        // News Sentiment
        'news-sentiment': 'Haber Duygusu',

        // Coin Table
        'all-coins': 'Tüm Coinler (Top 100)',
        'search-placeholder': 'Coin ara...',
        'th-rank': '#',
        'th-1h': '1s',
        'th-7d': '7g',
        'th-7d-chart': '7g Grafik',
        'th-volume': 'Hacim',
        'th-market-cap': 'Piyasa Değeri',
        'loading-coins': 'Coinler yükleniyor...',

        // Footer
        'footer-text': 'BedavaFinans Sinyal Paneli',
        'footer-data': 'Veri:',
        'footer-refresh': 'Otomatik yenileme: 2 dk',
        'share': 'Paylaş:',

        // Cookie Banner
        'cookie-text': 'Bu site deneyiminizi iyileştirmek için çerez kullanır (Google Analytics). Devam ederek çerez kullanımını kabul etmiş olursunuz.',
        'cookie-privacy': 'Gizlilik Politikası',
        'cookie-accept': 'Kabul Et',
        'cookie-reject': 'Reddet',

        // Signals
        'strong-buy': 'GÜÇLÜ AL',
        'buy': 'AL',
        'neutral': 'NÖTR',
        'sell': 'SAT',
        'strong-sell': 'GÜÇLÜ SAT',
        'no-data': 'VERİ YOK',

        // Confidence
        'high': 'Yüksek',
        'medium': 'Orta',
        'low': 'Düşük',

        // Sentiment labels
        'bullish': 'Yükseliş',
        'slightly-bullish': 'Hafif Yükseliş',
        'neutral-sent': 'Nötr',
        'slightly-bearish': 'Hafif Düşüş',
        'bearish': 'Düşüş',

        // Fear & Greed classifications
        'extreme-fear': 'Aşırı Korku',
        'fear': 'Korku',
        'neutral-fg': 'Nötr',
        'greed': 'Açgözlülük',
        'extreme-greed': 'Aşırı Açgözlülük',

        // Market Score
        'very-bullish': 'Çok Yükseliş',
        'very-bearish': 'Çok Düşüş',

        // Watchlist
        'watchlist': 'Favoriler',
        'watchlist-filter-title': 'Favorileri filtrele',

        // Whale
        'whale-loading': 'Balina verisi yükleniyor...',
        'ago': 'önce',

        // Theme
        'toggle-theme': 'Tema değiştir',

        // Toast / Alerts
        'data-refreshed': 'Veriler guncellendi',
        'refresh-error': 'Yenileme hatasi',
        'alert-prompt': 'Hedef fiyat girin ($):',

        // Pagination
        'show-more': 'Daha Fazla Göster',
        'more-coins': 'coin daha',

        // Social Buzz
        'social-buzz': 'Piyasa Buzz',
        'social-buzz-sub': 'Hacim & Momentum',
        'trending-social': 'Trending',
        'trending-social-sub': 'CoinGecko',
        'no-lunarcrush': 'Trending verisi yükleniyor...',
        'reddit-active': 'Reddit Aktif',
        'reddit-posts': 'Post/saat',
        'twitter-followers': 'Twitter Takipci',
        'github-stars': 'GitHub',
        'buzz-score': 'Buzz Skoru',
        'interactions': 'Etkilesim',
        'posts': 'Gonderi',
        'contributors': 'Katilimci',
        'sentiment-positive': 'Pozitif',
        'sentiment-negative': 'Negatif',
        'community': 'Topluluk',

        // Dream Machine
        'dream-machine': 'Hayal Kurma Makinesi',
        'dream-machine-sub': 'Yatırımını hayal et',
        'dream-select-coin': 'Coin Seç',
        'dream-invest-amount': 'Yatırım Tutarı ($)',
        'dream-invest-coins': 'Alacağın Miktar (Coin)',
        'dream-target': 'Hedef Yükseliş (%)',
        'dream-current-price': 'Mevcut Fiyat',
        'dream-target-price': 'Hedef Fiyat',
        'dream-investment': 'Yatırım',
        'dream-profit': 'Kâr',
        'dream-total': 'Eline Geçecek',
        'dream-coins-bought': 'Alınan Coin',
        'dream-you-can-buy': 'Bu kârla alabileceklerin:',
        'dream-x-count': 'x',
        'dream-fill-fields': 'Coin seçin, yatırım tutarı ve hedef yükseliş girin',
        'dream-to-ath': "ATH'ye",
        'dream-headline': '{coin} yükselirse...',
        'dream-subline': '{amount} yatırımla {coins} adet {symbol} alırsın',

        // Dream items
        'dream-kebab': 'Kebap',
        'dream-netflix': 'Netflix (1 Ay)',
        'dream-pizza': 'Pizza Siparişi',
        'dream-spotify': 'Spotify (1 Yıl)',
        'dream-sneakers': 'Nike Air Max',
        'dream-airpods': 'AirPods Pro',
        'dream-ps5': 'PlayStation 5',
        'dream-iphone': 'iPhone 16 Pro',
        'dream-macbook': 'MacBook Pro',
        'dream-rolex': 'Rolex Saat',
        'dream-tesla': 'Tesla Model 3',
        'dream-porsche': 'Porsche 911',
        'dream-apartment': 'Daire (İstanbul)',
        'dream-lambo': 'Lamborghini',
        'dream-villa': 'Villa (Bodrum)',
        'dream-yacht': 'Yat',
        'dream-jet': 'Özel Jet',

        // Funding Rate Arbitrage
        'fr-arbitrage': 'Fonlama Oranı Arbitrajı',
        'fr-arbitrage-sub': 'Spot Al + Vadeli Sat Stratejisi',
        'fr-th-pair': 'Çift',
        'fr-th-price': 'Fiyat',
        'fr-th-funding': 'Fonlama',
        'fr-th-apr': 'Yıllık %',
        'fr-th-spread': 'Spread',
        'fr-th-oi': 'Açık Pozisyon',
        'fr-th-next': 'Sonraki',
        'fr-positive': 'Pozitif (Short Kazanır)',
        'fr-negative': 'Negatif (Long Kazanır)',
        'fr-strategy-long': 'Spot Al + Short Aç',
        'fr-strategy-short': 'Spot Sat + Long Aç',
        'fr-no-data': 'Arbitraj verisi yükleniyor...',
        'fr-tab-all': 'Tümü',
        'fr-tab-positive': 'Pozitif FR',
        'fr-tab-negative': 'Negatif FR',
        'fr-binance-only': 'Sadece Binance',

        // Solana Ecosystem
        'solana-title': 'Solana Ekosistemi',
        'solana-subtitle': 'Top 30 Coin',
        'solana-loading': 'Solana ekosistemi yükleniyor...',
        'sol-tab-all': 'Tümü',
        'sol-tab-defi': 'DeFi',
        'sol-tab-meme': 'Meme',
        'sol-tab-infra': 'Altyapı',
        'sol-tab-nft': 'NFT/Gaming',
        'sol-th-category': 'Kategori',
        'tip-solana': 'Solana ağındaki en büyük coinler. Piyasa değerine göre sıralanır. DeFi, Meme, Altyapı ve NFT/Gaming alt kategorilerine ayrılmıştır.',

        // Tooltips
        'tip-market-cap': 'Tüm kripto paraların toplam piyasa değeri. Fiyat × Dolaşımdaki arz ile hesaplanır.',
        'tip-volume': 'Son 24 saatte tüm borsalarda gerçekleşen toplam işlem hacmi.',
        'tip-btc-dom': 'Bitcoin\'in toplam kripto piyasa değeri içindeki yüzdesel payı.',
        'tip-fear-greed': 'Piyasa duyarlılığını 0-100 arası ölçer. 0 = Aşırı Korku (alım fırsatı), 100 = Aşırı Açgözlülük (düzeltme riski).',
        'tip-signals': 'RSI, MACD, Bollinger Bands ve hacim analizi katmanlarının birleşik sonucu.',
        'tip-4layer': '4 farklı teknik analiz katmanının (trend, momentum, volatilite, hacim) ağırlıklı ortalaması.',
        'tip-rsi': 'Göreceli Güç Endeksi. 30 altı = aşırı satım (alım fırsatı), 70 üstü = aşırı alım (satış sinyali).',
        'tip-derivatives': 'Vadeli işlem (futures) piyasa verileri. Fonlama, uzun/kısa oranı ve açık pozisyon bilgisi.',
        'tip-funding': 'Uzun ve kısa pozisyon sahipleri arasında periyodik ödenen ücret. Pozitif = longlar öder, negatif = shortlar öder.',
        'tip-ls': 'Uzun/Kısa oranı. >1 = daha çok long pozisyon, <1 = daha çok short pozisyon.',
        'tip-oi': 'Kapatılmamış toplam vadeli işlem sözleşme sayısı. Yüksek OI = güçlü piyasa ilgisi.',
        'tip-ema': 'Üstel Hareketli Ortalama. Son fiyatlara daha çok ağırlık verir. EMA9 kısa vadeli, EMA21 orta vadeli trend.',
        'tip-bb': 'Bollinger Bantları. Fiyat volatilitesini ölçer. Üst bant = aşırı alım, alt bant = aşırı satım sinyali.',
        'tip-vol': 'İşlem hacmi çubukları. Fiyat hareketlerinin arkasındaki alım-satım gücünü gösterir.',
        'tip-anomaly': 'Hacmi normalin çok üstüne çıkan coinler. Büyük fiyat hareketinin habercisi olabilir.',
        'tip-sentiment': 'Kripto haberlerinin duygu analizi. Olumlu/olumsuz haberlerin oranı.',
        'tip-buzz': 'Sosyal medyada kripto hakkındaki etkileşim ve konuşma yoğunluğu.',
        'tip-arbitrage': 'Spot\'ta alıp vadeli\'de satarak fonlama oranı farkından kazanç elde etme stratejisi.',
        'tip-apr': 'Yıllık Yüzde Getiri. Fonlama oranının yıllık tahmini kazancı (Fonlama × 3 × 365).',
        'tip-spread': 'Vadeli işlem fiyatı ile spot fiyat arasındaki yüzdesel fark.',
        'tip-movers': 'Son 24 saatte en çok fiyat değişimi yaşayan coinler.',
        'tip-coin-mcap': 'Fiyat × Dolaşımdaki arz ile hesaplanan toplam piyasa değeri.',
        'tip-coin-vol': 'Son 24 saatte bu coin için gerçekleşen toplam işlem hacmi.',

        // General
        'loading': 'Yükleniyor...',
        'pos': 'poz',
        'neg': 'neg',
    },

    en: {
        'last-update': 'Last:',
        'auto': 'Auto',
        'paused': 'Paused',

        'total-market-cap': 'Total Market Cap',
        '24h-volume': '24h Volume',
        'btc-dominance-label': 'BTC Dominance',
        'fear-greed-label': 'Fear & Greed',

        'trading-signals': 'Trading Signals (Top 15)',
        '4-layer': '4-Layer Composite',
        'th-coin': 'Coin',
        'th-price': 'Price',
        'th-24h': '24h',
        'th-signal': 'Signal',
        'th-score': 'Score',
        'th-rsi': 'RSI',
        'th-layers': 'Layers',
        'loading-signals': 'Loading signals...',

        'derivatives': 'Derivatives',
        'th-symbol': 'Symbol',
        'th-funding': 'Funding',
        'th-ls': 'L/S',
        'th-oi': 'OI',

        'chart-legend-ema9': 'EMA 9',
        'chart-legend-ema21': 'EMA 21',
        'chart-legend-bb': 'BB',
        'chart-ind-ema': 'EMA',
        'chart-ind-bb': 'BB',
        'chart-ind-vol': 'VOL',
        'chart-fullscreen': 'Fullscreen',

        'top-movers': 'Top Movers',
        'gainers': 'Gainers',
        'losers': 'Losers',

        'volume-anomalies': 'Volume Anomalies',
        'no-anomalies': 'No anomalies detected',

        'news-sentiment': 'News Sentiment',

        'all-coins': 'All Coins (Top 100)',
        'search-placeholder': 'Search coin...',
        'th-rank': '#',
        'th-1h': '1h',
        'th-7d': '7d',
        'th-7d-chart': '7d Chart',
        'th-volume': 'Volume',
        'th-market-cap': 'Market Cap',
        'loading-coins': 'Loading coins...',

        'footer-text': 'BedavaFinans Signal Dashboard',
        'footer-data': 'Data:',
        'footer-refresh': 'Auto-refresh: 2 min',
        'share': 'Share:',

        // Cookie Banner
        'cookie-text': 'This site uses cookies (Google Analytics) to improve your experience. By continuing, you accept the use of cookies.',
        'cookie-privacy': 'Privacy Policy',
        'cookie-accept': 'Accept',
        'cookie-reject': 'Reject',

        'strong-buy': 'STRONG BUY',
        'buy': 'BUY',
        'neutral': 'NEUTRAL',
        'sell': 'SELL',
        'strong-sell': 'STRONG SELL',
        'no-data': 'NO DATA',

        'high': 'High',
        'medium': 'Medium',
        'low': 'Low',

        'bullish': 'Bullish',
        'slightly-bullish': 'Slightly Bullish',
        'neutral-sent': 'Neutral',
        'slightly-bearish': 'Slightly Bearish',
        'bearish': 'Bearish',

        'extreme-fear': 'Extreme Fear',
        'fear': 'Fear',
        'neutral-fg': 'Neutral',
        'greed': 'Greed',
        'extreme-greed': 'Extreme Greed',

        'very-bullish': 'Very Bullish',
        'very-bearish': 'Very Bearish',

        'whale-loading': 'Whale data loading...',
        'ago': 'ago',

        'watchlist': 'Watchlist',
        'watchlist-filter-title': 'Filter watchlist',

        'toggle-theme': 'Toggle theme',

        'data-refreshed': 'Data refreshed',
        'refresh-error': 'Refresh error',
        'alert-prompt': 'Enter target price ($):',

        // Pagination
        'show-more': 'Show More',
        'more-coins': 'more coins',

        // Social Buzz
        'social-buzz': 'Market Buzz',
        'social-buzz-sub': 'Volume & Momentum',
        'trending-social': 'Trending',
        'trending-social-sub': 'CoinGecko',
        'no-lunarcrush': 'Loading trending data...',
        'reddit-active': 'Reddit Active',
        'reddit-posts': 'Posts/hr',
        'twitter-followers': 'Twitter Followers',
        'github-stars': 'GitHub',
        'buzz-score': 'Buzz Score',
        'interactions': 'Interactions',
        'posts': 'Posts',
        'contributors': 'Contributors',
        'sentiment-positive': 'Positive',
        'sentiment-negative': 'Negative',
        'community': 'Community',

        // Dream Machine
        'dream-machine': 'Dream Machine',
        'dream-machine-sub': 'Dream your investment',
        'dream-select-coin': 'Select Coin',
        'dream-invest-amount': 'Investment Amount ($)',
        'dream-target': 'Target Increase (%)',
        'dream-current-price': 'Current Price',
        'dream-target-price': 'Target Price',
        'dream-investment': 'Investment',
        'dream-profit': 'Profit',
        'dream-total': 'Total Return',
        'dream-coins-bought': 'Coins Bought',
        'dream-you-can-buy': 'With this profit you can buy:',
        'dream-x-count': 'x',
        'dream-fill-fields': 'Select a coin, enter investment amount and target increase',

        'dream-invest-coins': 'Amount to Buy (Coins)',
        'dream-to-ath': "To ATH",
        'dream-headline': 'If {coin} rises...',
        'dream-subline': 'With {amount} you buy {coins} {symbol}',

        // Dream items
        'dream-kebab': 'Kebab',
        'dream-netflix': 'Netflix (1 Month)',
        'dream-pizza': 'Pizza Order',
        'dream-spotify': 'Spotify (1 Year)',
        'dream-sneakers': 'Nike Air Max',
        'dream-airpods': 'AirPods Pro',
        'dream-ps5': 'PlayStation 5',
        'dream-iphone': 'iPhone 16 Pro',
        'dream-macbook': 'MacBook Pro',
        'dream-rolex': 'Rolex Watch',
        'dream-tesla': 'Tesla Model 3',
        'dream-porsche': 'Porsche 911',
        'dream-apartment': 'Apartment (Istanbul)',
        'dream-lambo': 'Lamborghini',
        'dream-villa': 'Villa (Bodrum)',
        'dream-yacht': 'Yacht',
        'dream-jet': 'Private Jet',

        // Funding Rate Arbitrage
        'fr-arbitrage': 'Funding Rate Arbitrage',
        'fr-arbitrage-sub': 'Spot Buy + Futures Short Strategy',
        'fr-th-pair': 'Pair',
        'fr-th-price': 'Price',
        'fr-th-funding': 'Funding',
        'fr-th-apr': 'APR %',
        'fr-th-spread': 'Spread',
        'fr-th-oi': 'Open Interest',
        'fr-th-next': 'Next',
        'fr-positive': 'Positive (Short Earns)',
        'fr-negative': 'Negative (Long Earns)',
        'fr-strategy-long': 'Spot Buy + Short Futures',
        'fr-strategy-short': 'Spot Sell + Long Futures',
        'fr-no-data': 'Loading arbitrage data...',
        'fr-tab-all': 'All',
        'fr-tab-positive': 'Positive FR',
        'fr-tab-negative': 'Negative FR',
        'fr-binance-only': 'Binance Only',

        // Solana Ecosystem
        'solana-title': 'Solana Ecosystem',
        'solana-subtitle': 'Top 30 Coins',
        'solana-loading': 'Loading Solana ecosystem...',
        'sol-tab-all': 'All',
        'sol-tab-defi': 'DeFi',
        'sol-tab-meme': 'Meme',
        'sol-tab-infra': 'Infrastructure',
        'sol-tab-nft': 'NFT/Gaming',
        'sol-th-category': 'Category',
        'tip-solana': 'Top coins on the Solana network, ranked by market cap. Split into DeFi, Meme, Infrastructure and NFT/Gaming sub-categories.',

        // Tooltips
        'tip-market-cap': 'Total value of all cryptocurrencies. Calculated by price × circulating supply.',
        'tip-volume': 'Total trading volume across all exchanges in the last 24 hours.',
        'tip-btc-dom': 'Bitcoin\'s percentage share of the total crypto market cap.',
        'tip-fear-greed': 'Measures market sentiment from 0-100. 0 = Extreme Fear (buying opportunity), 100 = Extreme Greed (correction risk).',
        'tip-signals': 'Combined result of RSI, MACD, Bollinger Bands and volume analysis layers.',
        'tip-4layer': 'Weighted average of 4 technical analysis layers (trend, momentum, volatility, volume).',
        'tip-rsi': 'Relative Strength Index. Below 30 = oversold (buy signal), above 70 = overbought (sell signal).',
        'tip-derivatives': 'Futures market data. Funding rate, long/short ratio and open interest information.',
        'tip-funding': 'Periodic fee paid between long and short position holders. Positive = longs pay, negative = shorts pay.',
        'tip-ls': 'Long/Short ratio. >1 = more long positions, <1 = more short positions.',
        'tip-oi': 'Total number of outstanding futures contracts. High OI = strong market interest.',
        'tip-ema': 'Exponential Moving Average. Gives more weight to recent prices. EMA9 = short-term, EMA21 = mid-term trend.',
        'tip-bb': 'Bollinger Bands. Measures price volatility. Upper band = overbought, lower band = oversold signal.',
        'tip-vol': 'Volume bars. Shows the buying and selling activity behind price movements.',
        'tip-anomaly': 'Coins with volume far above normal. Can signal upcoming large price movements.',
        'tip-sentiment': 'Sentiment analysis of crypto news. Shows the ratio of positive/negative news.',
        'tip-buzz': 'Social media engagement and conversation intensity about crypto.',
        'tip-arbitrage': 'Strategy to profit from funding rate differences by buying spot and selling futures.',
        'tip-apr': 'Annual Percentage Rate. Estimated yearly return from funding rate (Funding × 3 × 365).',
        'tip-spread': 'Percentage difference between futures price and spot price.',
        'tip-movers': 'Coins with the largest price changes in the last 24 hours.',
        'tip-coin-mcap': 'Total market value calculated by price × circulating supply.',
        'tip-coin-vol': 'Total trading volume for this coin in the last 24 hours.',

        'loading': 'Loading...',
        'pos': 'pos',
        'neg': 'neg',
    }
};

let currentLang = localStorage.getItem('bedavafinans-lang') || 'tr';

function t(key) {
    return TRANSLATIONS[currentLang]?.[key] || TRANSLATIONS['en']?.[key] || key;
}

function setLang(lang) {
    currentLang = lang;
    localStorage.setItem('bedavafinans-lang', lang);
    applyTranslations();
    updateLangButton();
}

function toggleLang() {
    setLang(currentLang === 'tr' ? 'en' : 'tr');
    // Re-render dynamic content
    if (typeof loadAll === 'function') {
        renderDynamicContent();
    }
}

function applyTranslations() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const text = t(key);
        if (el.tagName === 'INPUT') {
            el.placeholder = text;
        } else {
            el.textContent = text;
        }
    });
    document.querySelectorAll('[data-i18n-title]').forEach(el => {
        el.title = t(el.getAttribute('data-i18n-title'));
    });
    // Apply tooltip texts
    applyTooltips();
}

function applyTooltips() {
    document.querySelectorAll('[data-tip]').forEach(el => {
        const key = el.getAttribute('data-tip');
        const text = t(key);
        // Store translated text as data attribute for global tooltip JS
        el.setAttribute('data-tip-text', text);
        // For non-.info-tip elements (buttons etc.), also set title fallback
        if (!el.classList.contains('info-tip')) {
            el.title = text;
        }
    });
    // Initialize global tooltip hover listeners (once)
    initGlobalTooltip();
}

let _tooltipInitialized = false;
function initGlobalTooltip() {
    if (_tooltipInitialized) return;
    _tooltipInitialized = true;

    const tip = document.getElementById('global-tooltip');
    if (!tip) return;

    document.addEventListener('mouseenter', (e) => {
        const el = e.target.closest('.info-tip[data-tip]');
        if (!el) return;
        const text = el.getAttribute('data-tip-text');
        if (!text) return;

        tip.textContent = text;
        tip.classList.add('visible');
        tip.classList.remove('arrow-bottom');

        // Position above the icon
        const rect = el.getBoundingClientRect();
        const tipRect = tip.getBoundingClientRect();
        let left = rect.left + rect.width / 2 - tipRect.width / 2;
        let top = rect.top - tipRect.height - 10;

        // If goes above viewport, show below
        if (top < 4) {
            top = rect.bottom + 10;
            tip.classList.add('arrow-bottom');
        }
        // Clamp to viewport edges
        left = Math.max(8, Math.min(left, window.innerWidth - tipRect.width - 8));

        tip.style.left = left + 'px';
        tip.style.top = top + 'px';
    }, true);

    document.addEventListener('mouseleave', (e) => {
        const el = e.target.closest('.info-tip[data-tip]');
        if (!el) return;
        tip.classList.remove('visible', 'arrow-bottom');
    }, true);
}

function updateLangButton() {
    const btn = document.getElementById('lang-toggle');
    if (btn) {
        btn.textContent = currentLang === 'tr' ? 'EN' : 'TR';
        btn.title = currentLang === 'tr' ? 'Switch to English' : 'Türkçeye geç';
    }
}

function translateSignal(signal) {
    const map = {
        'STRONG BUY': t('strong-buy'),
        'BUY': t('buy'),
        'NEUTRAL': t('neutral'),
        'SELL': t('sell'),
        'STRONG SELL': t('strong-sell'),
        'NO DATA': t('no-data'),
    };
    return map[signal] || signal;
}

function translateConfidence(confidence) {
    const map = {
        'High': t('high'),
        'Medium': t('medium'),
        'Low': t('low'),
    };
    return map[confidence] || confidence;
}

function translateFearGreed(classification) {
    const map = {
        'Extreme Fear': t('extreme-fear'),
        'Fear': t('fear'),
        'Neutral': t('neutral-fg'),
        'Greed': t('greed'),
        'Extreme Greed': t('extreme-greed'),
    };
    return map[classification] || classification;
}

function translateSentiment(label) {
    const map = {
        'Bullish': t('bullish'),
        'Slightly Bullish': t('slightly-bullish'),
        'Neutral': t('neutral-sent'),
        'Slightly Bearish': t('slightly-bearish'),
        'Bearish': t('bearish'),
    };
    return map[label] || label;
}

function translateMarketScore(label) {
    const map = {
        'Very Bullish': t('very-bullish'),
        'Bullish': t('bullish'),
        'Neutral': t('neutral-sent'),
        'Bearish': t('bearish'),
        'Very Bearish': t('very-bearish'),
    };
    return map[label] || label;
}
